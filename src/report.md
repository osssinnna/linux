## ОТЧЕТ

## Part 1. Установка ОС

**== Задание ==**

##### Установить **Ubuntu 20.04 Server LTS** без графического интерфейса. (Используем программу для виртуализации - VirtualBox)

- Графический интерфейс должен отсутствовать.

- Узнайте версию Ubuntu, выполнив команду \
`cat /etc/issue.`
- Вставьте скриншот с выводом команды.

**== Выполненная работа ==**

![picture1](src/part1/1.png)

## Part 2. Создание пользователя

**== Задание ==**

##### Создать пользователя, отличного от пользователя, который создавался при установке. Пользователь должен быть добавлен в группу `adm`.

- Вставьте скриншот вызова команды для создания пользователя.
- Новый пользователь должен быть в выводе команды \
`cat /etc/passwd`
- Вставьте скриншот с выводом команды.

**== Выполненная работа ==**
![picture2](src/part2/1.png)
![picture3](src/part2/2.png)
![picture4](src/part2/3.png)
## Part 3. Настройка сети ОС

**== Задание ==**

##### Задать название машины вида user-1  

Для того, чтобы задать название машины, нужно ввести команду: sudo hostname user-1
##### Установить временную зону, соответствующую вашему текущему местоположению.  
![picture5](src/part3/1.png)

##### Вывести названия сетевых интерфейсов с помощью консольной команды.
![picture6](src/part3/2.png)
- В отчёте дать объяснение наличию интерфейса lo.  
Loopback интерфейс нужен для взаимодействия между локальными процессами. Адрес loopback никогда не меняется. Поскольку адрес loopback никогда не меняется, это лучший способ определить устройство в сети. Интерфейс loopback всегда работает и доступен до тех пор, пока маршрут к этому IP-адресу доступен в таблице IP-маршрутизации. Таким образом, интерфейс loopback можно использовать для диагностики и устранения неполадок.

##### Используя консольную команду получить ip адрес устройства, на котором вы работаете, от DHCP сервера.
![picture7](src/part3/3.png)

- В отчёте дать расшифровку DHCP.  
Протокол DHCP (англ. Dynamic Host Configuration Protocol — протокол динамической настройки узла) — это протокол клиента или сервера, который автоматически предоставляет узел протокола IP с его IP-адресом и другие связанные сведения о конфигурации, такие как маска подсети и шлюз по умолчанию. 

##### Определить и вывести на экран внешний ip-адрес шлюза (ip) и внутренний IP-адрес шлюза, он же ip-адрес по умолчанию (gw). 
![picture8](src/part3/4.png)

##### Задать статичные (заданные вручную, а не полученные от DHCP сервера) настройки ip, gw, dns (использовать публичный DNS серверы, например 1.1.1.1 или 8.8.8.8).  
![picture9](src/part3/5.png)

##### Перезагрузить виртуальную машину. Убедиться, что статичные сетевые настройки (ip, gw, dns) соответствуют заданным в предыдущем пункте.  
![picture10](src/part3/6.png)

- В отчёте опишите, что сделали для выполнения всех семи пунктов (можно как текстом, так и скриншотами).
- Успешно пропинговать удаленные хосты 1.1.1.1 и ya.ru и вставить в отчёт скрин с выводом команды. В выводе команды должна быть фраза "0% packet loss".
![picture](src/part3/7.png)
![picture](src/part3/8.png)


## Part 4. Обновление ОС


**== Задание ==**

##### Обновить системные пакеты до последней на момент выполнения задания версии.  

- После обновления системных пакетов, если ввести команду обновления повторно, должно появится сообщение, что обновления отсутствуют.
- Вставить скриншот с этим сообщением в отчёт.

**== Выполненная работа ==**
![picture](src/part4/4.1.png)
![picture](src/part4/4.2.png)
![picture](src/part4/4.3.png)
![picture](src/part4/4.4.png)
## Part 5. Использование команды **sudo**

**== Задание ==**

##### Разрешить пользователю, созданному в [Part 2](#part-2-создание-пользователя), выполнять команду sudo.

- В отчёте объяснить *истинное* назначение команды sudo (про то, что это слово - "волшебное", писать не стоит).  
- Поменять hostname ОС от имени пользователя, созданного в пункте [Part 2](#part-2-создание-пользователя) (используя sudo).
- Вставить скрин с изменённым hostname в отчёт.
**== Выполненная работа ==**
sudo (англ. Substitute User and do, дословно «подменить пользователя и выполнить») — программа для системного администрирования UNIX-систем, позволяющая делегировать те или иные привилегированные ресурсы пользователям с ведением протокола работы. Основная идея — дать пользователям как можно меньше прав, при этом достаточных для решения поставленных задач. Программа поставляется для большинства UNIX и UNIX-подобных операционных систем.
Чтобы перейти к работе от имени другого пользователя, нужно ввести команду: sudo su - имя_пользователя
![picture](src/part5/4.png)
![picture](src/part5/5.png)

## Part 6. Установка и настройка службы времени

**== Задание ==**

##### Настроить службу автоматической синхронизации времени.  

- Вывести время, часового пояса, в котором вы сейчас находитесь.
- Вывод следующей команды должен содержать `NTPSynchronized=yes`: \
  `timedatectl show`
- Вставить скрины с корректным временем и выводом команды в отчёт.
**== Выполненная работа ==**
![picture](src/part6/1.png)
![picture](src/part6/2.png)

## Part 7. Установка и использование текстовых редакторов 

**== Задание ==**

##### Установить текстовые редакторы **VIM** (+ любые два по желанию **NANO**, **MCEDIT**, **JOE** и т.д.)  
**== Выполненная работа ==**
sudo apt install название_текстового_редактора

##### Используя каждый из трех выбранных редакторов, создайте файл *test_X.txt*, где X -- название редактора, в котором создан файл. Напишите в нём свой никнейм, закройте файл с сохранением изменений.  

**== Выполненная работа ==**
![picture](src/part6/3.png)
Для выхода с созранением: :wq -> Enter
![picture](src/part6/4.png)
Для выхода с созранением: control+X -> Y -> Enter
![picture](src/part6/5.png)
Для выхода с созранением: F10 -> Ok

##### Используя каждый из трех выбранных редакторов, откройте файл на редактирование, отредактируйте файл, заменив никнейм на строку "21 School 21", закройте файл без сохранения изменений.

**== Выполненная работа ==**
![picture](src/part6/6.png)
Для выхода без созранения: :q! -> Enter
![picture](src/part6/7.png)
Для выхода без созранения: control+X -> N -> Enter
![picture](src/part6/8.png)
Для выхода без созранения: F10 -> NO

##### Используя каждый из трех выбранных редакторов, отредактируйте файл ещё раз (по аналогии с предыдущим пунктом), а затем освойте функции поиска по содержимому файла (слово) и замены слова на любое другое.

**== Выполненная работа ==**
![picture](src/part6/9.png)
![picture](src/part6/10.png)
Поиск и замена: :s/поиск/замена
![picture](src/part6/11.png)
![picture](src/part6/12.png)
Поиск и замена: control+\ 
![picture](src/part6/13.png)
Поиск и замена: F4

## Part 8. Установка и базовая настройка сервиса **SSHD**

**== Задание ==**

##### Установить службу SSHd.  
##### Добавить автостарт службы при загрузке системы.  
**== Выполненная работа ==**
![picture](src/part8/1.png)

##### Перенастроить службу SSHd на порт 2022.  
**== Выполненная работа ==**
![picture](src/part8/2.png)
![picture](src/part8/5.png)

##### Используя команду ps, показать наличие процесса sshd. Для этого к команде нужно подобрать ключи.
![picture](src/part8/4.png)
![picture](src/part8/3.png)
- В отчёте объяснить значение команды и каждого ключа в ней.
Команда ps выводит список текущих процессов на вашем сервере в виде таблицы, с которой можно удобно работать: сортировать, изменять количество колонок и прочие. У утилиты ps множество настроек, с помощью которых можно тонко настраивать вывод команды.
-A, -e, (a) - выбрать все процессы;
-a - выбрать все процессы, кроме фоновых;
-d, (g) - выбрать все процессы, даже фоновые, кроме процессов сессий;
-N - выбрать все процессы кроме указанных;
-С - выбирать процессы по имени команды;
-G - выбрать процессы по ID группы;
-p, (p) - выбрать процессы PID;
--ppid - выбрать процессы по PID родительского процесса;
-s - выбрать процессы по ID сессии;
-t, (t) - выбрать процессы по tty;
-u, (U) - выбрать процессы пользователя.
##### Перезагрузить систему.
- В отчёте опишите, что сделали для выполнения всех пяти пунктов (можно как текстом, так и скриншотами).
- Вывод команды netstat -tan должен содержать  \
`tcp 0 0 0.0.0.0:2022 0.0.0.0:* LISTEN`  \
(если команды netstat нет, то ее нужно установить)
- В отчёте объяснить значение ключей -tan, значение каждого столбца вывода, значение 0.0.0.0.
netstat (network statistic) - это утилита командной строки показывающая сетевые соединения (как входящие, так и исходящие), таблицы маршрутизации и различные статистики сетевых интерфейсов.
-a	Показывать состояние всех сокетов; обычно сокеты, используемые серверными процессами, не показываются.
-n	Показывать сетевые адреса как числа. netstat обычно показывает адреса как символы. Эту опцию можно использовать с любым форматом показа.
-t  TCP порты.
Значения столбцов:

Proto	Имя протокола (TCP или UDP).
Recv-Q Счётчик байт не скопированных программой пользователя из этого сокета.
Send-Q Счётчик байтов, не подтверждённых удалённым узлом.
Local Address	IP-адрес локального компьютера и используемый номер порта. Имя локального компьютера, соответствующее IP-адресу, и имя порта отображаются, если не указан параметр -n . Если порт еще не установлен, номер порта отображается в виде звездочки (*).
Foreign Address	IP-адрес и номер порта удаленного компьютера, к которому подключен сокет. Имена, соответствующие IP-адресу и порту, отображаются, если не указан параметр -n . Если порт еще не установлен, номер порта отображается в виде звездочки (*).
State Указывает состояние TCP-подключения.
Если в качестве адреса отображается 0.0.0.0 , то это означает - "любой адрес", т. е в соединении могут использоваться все IP-адреса существующие на данном компьютере.

## Part 9. Установка и использование утилит **top**, **htop**

**== Задание ==**

##### Установить и запустить утилиты top и htop.  
- По выводу команды top определить и написать в отчёте:
![picture](src/part9/top/1.png)
![picture](src/part9/top/2.png)
![picture](src/part9/top/3.png)
  - uptime - 24 min
  - количество авторизованных пользователей - 1
  - общую загрузку системы - 0.00
  - общее количество процессов - 96
  - загрузку cpu - 0.0
  - загрузку памяти - 964.9
  - pid процесса занимающего больше всего памяти - 1
  - pid процесса, занимающего больше всего процессорного времени - 1
- В отчёт вставить скрин с выводом команды htop:
![picture](src/part9/htop/1.png)
![picture](src/part9/htop/2.png)
  - отсортированному по PID, PERCENT_CPU, PERCENT_MEM, TIME
![picture](src/part9/htop/pid.png)
![picture](src/part9/htop/cpu.png)
![picture](src/part9/htop/mem.png)
![picture](src/part9/htop/time.png)
  - отфильтрованному для процесса sshd
![picture](src/part9/htop/filter sshd.png)
  - с процессом syslog, найденным, используя поиск 
![picture](src/part9/htop/search.png)
  - с добавленным выводом hostname, clock и uptime  
![picture](src/part9/htop/host,uptime,clock.png)

## Part 10. Использование утилиты **fdisk**

**== Задание ==**

##### Запустить команду fdisk -l.

Название жесткого диска - SDA, его размер - 10 GiB и количество секторов - 20971520, размер swap - 1.4 GiB.
![picture](src/part10/2.png)
![picture](src/part10/1.png)
![picture](src/part10/3.png)

## Part 11. Использование утилиты **df** 

**== Задание ==**

##### Запустить команду df.  
![picture](src/part11/1.png)
- В отчёте написать для корневого раздела (/):
  - размер раздела - 8408452 Kb
  - размер занятого пространства - 4232612 Kb
  - размер свободного пространства - 3727124 Kb
  - процент использования - 54%
- Определить и написать в отчёт единицу измерения в выводе.  

##### Запустить команду df -Th.
![picture](src/part11/2.png)
- В отчёте написать для корневого раздела (/):
    - размер раздела - 8.1 Gb
    - размер занятого пространства - 4.1 Gb
    - размер свободного пространства - 3.6 Gb
    - процент использования - 54%
- Определить и написать в отчёт тип файловой системы для раздела - ext4

## Part 12. Использование утилиты **du**

**== Задание ==**

##### Запустить команду du.
![picture](src/part12/1.png)

##### Вывести размер папок /home, /var, /var/log (в байтах, в человекочитаемом виде)
![picture](src/part12/2.png)
![picture](src/part12/3.png)
![picture](src/part12/4.png)
![picture](src/part12/5.png)

##### Вывести размер всего содержимого в /var/log (не общее, а каждого вложенного элемента, используя *)
![picture](src/part11/6.png)

## Part 13. Установка и использование утилиты **ncdu**

##### Установить утилиту ncdu.
sudo apt-get install ncdu
##### Вывести размер папок /home, /var, /var/log.
![picture](src/part13/1.png)
![picture](src/part13/2.png)
![picture](src/part13/3.png)

## Part 14. Работа с системными журналами

`-` Системному администратору иногда приходится просматривать события, происходившие в системе в недавнем прошлом. Для этого в Linux есть системные журналы.

**== Задание ==**

##### Открыть для просмотра:
##### 1. /var/log/dmesg
![picture](src/part14/1.png)
##### 2. /var/log/syslog
![picture](src/part14/2.png)
##### 3. /var/log/auth.log  
![picture](src/part14/3.png)

- Написать в отчёте время последней успешной авторизации - 17:41:12, имя пользователя - willardc и метод входа в систему - pam_unix.
- Перезапустить службу SSHd.
![picture](src/part14/6.png)

## Part 15. Использование планировщика заданий **CRON**

**== Задание ==**

##### Используя планировщик заданий, запустите команду uptime через каждые 2 минуты.
- Найти в системных журналах строчки (минимум две в заданном временном диапазоне) о выполнении.
- Вывести на экран список текущих заданий для CRON.
- Вставить в отчёт скрины со строчками о выполнении и списком текущих задач.

![picture](src/part14/7.png)
![picture](src/part14/4.png)
##### Удалите все задания из планировщика заданий.
- В отчёт вставьте скрин со списком текущих заданий для CRON.
![picture](src/part14/8.png)





💡 [Нажми тут](https://forms.yandex.ru/cloud/641817c002848f26a078c4a6/), **чтобы поделиться с нами обратной связью на этот проек**т. Это анонимно и поможет команде Педаго сделать твоё обучение лучше.
